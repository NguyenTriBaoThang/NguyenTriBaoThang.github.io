<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.147.9">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Cấu hình Lambda Function BackupDynamoDBAndSendEmail :: AWS System Manager</title>

    
    <link href="/css/nucleus.css?1751876625" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1751876625" rel="stylesheet">
    <link href="/css/hybrid.css?1751876625" rel="stylesheet">
    <link href="/css/featherlight.min.css?1751876625" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1751876625" rel="stylesheet">
    <link href="/css/auto-complete.css?1751876625" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1751876625" rel="stylesheet">
    <link href="/css/theme.css?1751876625" rel="stylesheet">
    <link href="/css/hugo-theme.css?1751876625" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1751876625" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1751876625"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/3-creating-lambda-functions/3.3-create-the-backupdynamodbandsendemail-function/">
    <nav id="sidebar" class="showVisitedLinks">

  
  
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
    <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/%20js/lunr.min.js?1751876625"></script>
<script type="text/javascript" src="/%20js/auto-complete.js?1751876625"></script>
<script type="text/javascript">
    { { if hugo.IsMultilingual } }
    var baseurl = "\/\/localhost:1313\/\/vi";
    { { else } }
    var baseurl = "\/\/localhost:1313\/";
    { { end } }
</script>
<script type="text/javascript" src="/%20js/search.js?1751876625"></script>
    
  </div>

  <div class="highlightable">
    <ul class="topics">

      
      
      







<li data-nav-id="/vi/1-introduction/" title="Giới Thiệu" class="dd-item 
        
        
        
        ">
  <a href="/vi/1-introduction/">
    <b>1. </b>Giới Thiệu
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



      
      







<li data-nav-id="/vi/2-preparation-steps/" title="Các Bước Chuẩn Bị" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/">
    <b>2. </b>Các Bước Chuẩn Bị
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
  <ul>
    
    
    
    
    

    
    
    
    







<li data-nav-id="/vi/2-preparation-steps/2.1-create-iam-role-for-lambda-get/" title="Tạo IAM Role cho Lambda Get" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/2.1-create-iam-role-for-lambda-get/">
    <b>2.1 </b>Tạo IAM Role cho Lambda Get
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/2-preparation-steps/2.2-create-iam-role-for-lambda-post/" title="Tạo IAM Role cho Lambda Post" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/2.2-create-iam-role-for-lambda-post/">
    <b>2.2 </b>Tạo IAM Role cho Lambda Post
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/2-preparation-steps/2.3-create-iam-role-for-dynamodb-backup/" title="Tạo IAM Role cho DynamoDB Backup" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/2.3-create-iam-role-for-dynamodb-backup/">
    <b>2.3 </b>Tạo IAM Role cho DynamoDB Backup
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/2-preparation-steps/2.4-createtable-in-dynamodb/" title="Tạo bảng trong DynamoDB" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/2.4-createtable-in-dynamodb/">
    <b>2.4 </b>Tạo bảng trong DynamoDB
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/2-preparation-steps/2.5-configureses/" title="Cấu hình Amazon SES" class="dd-item 
        
        
        
        ">
  <a href="/vi/2-preparation-steps/2.5-configureses/">
    <b>2.5 </b>Cấu hình Amazon SES
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
  </ul>
  
</li>



      
      







<li data-nav-id="/vi/3-creating-lambda-functions/" title="Creating Lambda Functions" class="dd-item 
        parent
        
        
        ">
  <a href="/vi/3-creating-lambda-functions/">
    <b> 3. </b>Creating Lambda Functions
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
  <ul>
    
    
    
    
    

    
    
    
    







<li data-nav-id="/vi/3-creating-lambda-functions/3.1-create-the-getstudentdata-function/" title="Cấu hình Lambda Function getStudentData" class="dd-item 
        
        
        
        ">
  <a href="/vi/3-creating-lambda-functions/3.1-create-the-getstudentdata-function/">
    <b>3.1 </b>Cấu hình Lambda Function getStudentData
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/3-creating-lambda-functions/3.2-create-the-insertstudentdata-function/" title="Cấu hình Lambda Function insertStudentData" class="dd-item 
        
        
        
        ">
  <a href="/vi/3-creating-lambda-functions/3.2-create-the-insertstudentdata-function/">
    <b>3.2 </b>Cấu hình Lambda Function insertStudentData
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/3-creating-lambda-functions/3.3-create-the-backupdynamodbandsendemail-function/" title="Cấu hình Lambda Function BackupDynamoDBAndSendEmail" class="dd-item 
        
        active
        
        ">
  <a href="/vi/3-creating-lambda-functions/3.3-create-the-backupdynamodbandsendemail-function/">
    <b>3.3 </b>Cấu hình Lambda Function BackupDynamoDBAndSendEmail
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
  </ul>
  
</li>



      
      







<li data-nav-id="/vi/4-creating-a-restful-api/" title="Cấu hình RESTful API Bảo Mật bằng API Key" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/">
    <b>4. </b>Cấu hình RESTful API Bảo Mật bằng API Key
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
  <ul>
    
    
    
    
    

    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.1-creating-a-rest-api/" title="Tạo REST API mới trên API Gateway" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.1-creating-a-rest-api/">
    <b>4.1 </b>Tạo REST API mới trên API Gateway
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.2-creating-an-api-key/" title="Tạo API Key để bảo vệ truy cập" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.2-creating-an-api-key/">
    <b>4.2 </b>Tạo API Key để bảo vệ truy cập
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.3-creating-a-usage-plan/" title="Thiết lập Usage Plan (Kế hoạch sử dụng)" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.3-creating-a-usage-plan/">
    <b>4.3 </b>Thiết lập Usage Plan (Kế hoạch sử dụng)
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.4-creating-a-get-method/" title="Tạo phương thức GET để truy xuất dữ liệu" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.4-creating-a-get-method/">
    <b>4.4 </b>Tạo phương thức GET để truy xuất dữ liệu
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.5-creating-a-post-method/" title="Tạo phương thức POST để lưu dữ liệu" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.5-creating-a-post-method/">
    <b>4.5 </b>Tạo phương thức POST để lưu dữ liệu
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.6-creating-a-backup-resource-and-method/" title="Tạo Resource và Method cho Backup dữ liệu" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.6-creating-a-backup-resource-and-method/">
    <b>4.6 </b>Tạo Resource và Method cho Backup dữ liệu
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.7-enabling-cors/" title="Kích hoạt CORS để hỗ trợ frontend truy cập" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.7-enabling-cors/">
    <b>4.7 </b>Kích hoạt CORS để hỗ trợ frontend truy cập
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.8-deploying-the-api/" title="Triển khai (Deploy) API lên một Stage cụ thể" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.8-deploying-the-api/">
    <b>4.8 </b>Triển khai (Deploy) API lên một Stage cụ thể
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/4-creating-a-restful-api/4.9-linking-api-key-to-usage-plan-and-stage/" title="Gắn API Key vào Usage Plan &amp; Liên kết với REST API và Stage" class="dd-item 
        
        
        
        ">
  <a href="/vi/4-creating-a-restful-api/4.9-linking-api-key-to-usage-plan-and-stage/">
    <b>4.9 </b>Gắn API Key vào Usage Plan &amp; Liên kết với REST API và Stage
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
  </ul>
  
</li>



      
      







<li data-nav-id="/vi/5-designing-the-website-interface/" title="Viết giao diện cho Website" class="dd-item 
        
        
        
        ">
  <a href="/vi/5-designing-the-website-interface/">
    <b>5. </b>Viết giao diện cho Website
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



      
      







<li data-nav-id="/vi/6-configuring-s3-buckets/" title="Cấu Hình S3 Bucket để Lưu Trữ và Phục Vụ Website" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/">
    <b>6. </b>Cấu Hình S3 Bucket để Lưu Trữ và Phục Vụ Website
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
  <ul>
    
    
    
    
    

    
    
    
    







<li data-nav-id="/vi/6-configuring-s3-buckets/6.1-creating-a-new-s3-bucket/" title="" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/6.1-creating-a-new-s3-bucket/">
    
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/6-configuring-s3-buckets/6.2-uploading-static-assets-to-s3/" title="" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/6.2-uploading-static-assets-to-s3/">
    
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/6-configuring-s3-buckets/6.3-enabling-static-website-hosting/" title="" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/6.3-enabling-static-website-hosting/">
    
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/6-configuring-s3-buckets/6.4-setting-bucket-policy-for-public-access/" title="" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/6.4-setting-bucket-policy-for-public-access/">
    
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
    







<li data-nav-id="/vi/6-configuring-s3-buckets/6.5-updating-bucket-policy-to-support-backup/" title="" class="dd-item 
        
        
        
        ">
  <a href="/vi/6-configuring-s3-buckets/6.5-updating-bucket-policy-to-support-backup/">
    
    
    <i class="fas fa-check read-icon"></i>
    
  </a>
  
  
</li>



    
    
    
  </ul>
  
</li>



      
      
    </ul>

    
    
    <section id="shortcuts">
      <h3>More</h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
        </li>
        
      </ul>
    </section>
    

    
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                
                
                
                
                
                
                
                
                <option id="en" value="//localhost:1313/3-creating-lambda-functions/3.3-create-the-backupdynamodbandsendemail-function/">English
                </option>
                
                
                
                
                
                
                
                
                
                
                
                
                
                <option id="vi" value="//localhost:1313/vi/3-creating-lambda-functions/3.3-create-the-backupdynamodbandsendemail-function/" selected>Tiếng Việt</option>
                
                
                
                
              </select>
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="255px" height="255px"
                viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
        

        
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
        
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>30-01-2022</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/sutrinh/"  style="color:orange">Sử Trịnh  </a> <br>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng </a> <br>
                <a href="https://www.linkedin.com/in/hiepnguyendt"  style="color:orange">Thanh Hiệp </a>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/vi/'>Session Management</a> > <a href='/vi/3-creating-lambda-functions/'>Creating Lambda Functions</a> > Cấu hình Lambda Function BackupDynamoDBAndSendEmail
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#tổng-quan-về-hàm-backupdynamodbandsendemail">Tổng Quan về Hàm BackupDynamoDBAndSendEmail</a></li>
    <li><a href="#yêu-cầu-ban-đầu">Yêu Cầu Ban Đầu</a></li>
    <li><a href="#hành-động-chi-tiết">Hành Động Chi Tiết</a></li>
    <li><a href="#lưu-ý-quan-trọng">Lưu Ý Quan Trọng</a></li>
    <li><a href="#kết-luận">Kết Luận</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Cấu hình Lambda Function BackupDynamoDBAndSendEmail
            </h1>
          

        



	<blockquote>
<p><strong>Mục tiêu</strong>: Tạo và cấu hình hàm Lambda <code>BackupDynamoDBAndSendEmail</code> để sao lưu toàn bộ dữ liệu từ bảng DynamoDB <code>studentData</code> vào bucket S3 dưới dạng tệp JSON, tạo pre-signed URL, và gửi email thông báo chứa link tải qua SES. Hàm sử dụng <strong>Python 3.13</strong>, kiến trúc <code>x86_64</code>, và gán vai trò IAM <code>DynamoDBBackupRole</code> (tạo ở mục 2.3). Hàm sẽ trả về phản hồi JSON để tích hợp với các hệ thống khác (nếu cần) và ghi log vào CloudWatch để giám sát.</p></blockquote>
<hr>
<h2 id="tổng-quan-về-hàm-backupdynamodbandsendemail">Tổng Quan về Hàm BackupDynamoDBAndSendEmail</h2>
<p>Hàm <code>BackupDynamoDBAndSendEmail</code> thực hiện các chức năng sau:</p>
<ul>
<li>Đọc toàn bộ dữ liệu từ bảng <code>studentData</code> (các trường <code>studentid</code>, <code>name</code>, <code>class</code>, <code>birthdate</code>, <code>email</code>) bằng thao tác <code>Scan</code>.</li>
<li>Lưu dữ liệu tạm thời dưới dạng tệp JSON trong thư mục <code>/tmp</code> của môi trường Lambda.</li>
<li>Tải tệp JSON lên bucket S3 với tên tệp có dấu thời gian (ví dụ: <code>backups/backup-20250707-0409.json</code>).</li>
<li>Tạo pre-signed URL (hết hạn sau 1 giờ) để truy cập tệp backup.</li>
<li>Gửi email thông báo qua SES với nội dung HTML đẹp, chứa link tải và thời gian hết hạn.</li>
<li>Trả về phản hồi JSON xác nhận trạng thái sao lưu và gửi email.</li>
</ul>
<hr>
<h2 id="yêu-cầu-ban-đầu">Yêu Cầu Ban Đầu</h2>

<div class="notices info" ><p>Bạn cần hoàn thành các bước chuẩn bị ở mục 2 (IAM Role <code>DynamoDBBackupRole</code>, bảng DynamoDB <code>studentData</code>, SES email xác minh, S3 bucket <code>student-backup-20250706</code>). Đảm bảo tài khoản AWS đã sẵn sàng và vùng AWS là <code>us-east-1</code>.</p>
</div>

<hr>
<h2 id="hành-động-chi-tiết">Hành Động Chi Tiết</h2>
<ol>
<li>
<p><strong>Truy Cập AWS Management Console</strong></p>
<ul>
<li>
<p>Mở trình duyệt và đăng nhập vào <strong><a href="https://console.aws.amazon.com">AWS Management Console</a></strong> bằng tài khoản AWS của bạn.</p>
</li>
<li>
<p>Trong thanh tìm kiếm ở đầu trang, nhập <strong>Lambda</strong> và chọn dịch vụ <strong>AWS Lambda</strong> để vào giao diện quản lý.</p>
</li>
<li>
<p>Đảm bảo bạn đang làm việc trong vùng AWS chính (ví dụ: <code>us-east-1</code>), kiểm tra vùng ở góc trên bên phải AWS Console. Vùng này phải khớp với bảng DynamoDB <code>studentData</code>, bucket S3 <code>student-backup-20250706</code>, và SES.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-01.png" alt="Giao diện AWS Console với thanh tìm kiếm Lambda">
<em>Hình 1: Giao diện AWS Console với thanh tìm kiếm Lambda.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Điều Hướng Đến Mục Functions</strong></p>
<ul>
<li>
<p>Trong giao diện chính của AWS Lambda, nhìn vào menu điều hướng bên trái.</p>
</li>
<li>
<p>Chọn <strong>Functions (Hàm)</strong> để xem danh sách các hàm Lambda hiện có. Nếu bạn chưa tạo hàm nào, danh sách sẽ trống.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-02.png" alt="Menu điều hướng với tùy chọn Functions">
<em>Hình 2: Menu điều hướng với tùy chọn Functions.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Khởi Tạo Quá Trình Tạo Hàm</strong></p>
<ul>
<li>
<p>Trong giao diện <strong>Functions</strong>, nhấn nút <strong>Create function (Tạo hàm)</strong> ở góc trên bên phải để bắt đầu cấu hình hàm mới.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-03.png" alt="Nút Create function trong giao diện Functions">
<em>Hình 3: Nút Create function trong giao diện Functions.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Cấu Hình Thông Tin Cơ Bản của Hàm</strong></p>
<ul>
<li>
<p>Trong mục <strong>Function type</strong>, chọn <strong>Author from scratch (Tạo từ đầu)</strong> để tự viết mã cho hàm.</p>
</li>
<li>
<p>Trong mục <strong>Function name</strong>, nhập chính xác <code>BackupDynamoDBAndSendEmail</code>. Tên này sẽ được sử dụng khi tích hợp với các dịch vụ khác (ví dụ: CloudWatch Events/EventBridge để tự động chạy sao lưu).</p>
</li>
<li>
<p>Trong mục <strong>Runtime</strong>, chọn <strong>Python 3.13</strong> (phiên bản Python mới nhất được yêu cầu). Nếu Python 3.13 không có sẵn, chọn phiên bản Python mới nhất được hỗ trợ (ví dụ: Python 3.12 hoặc 3.11).</p>
</li>
<li>
<p>Trong mục <strong>Architecture</strong>, chọn <code>x86_64</code> để đảm bảo tương thích với kiến trúc tiêu chuẩn.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-04.png" alt="Giao diện cấu hình thông tin cơ bản của hàm">
<em>Hình 4: Giao diện cấu hình thông tin cơ bản của hàm.</em></p>
</li>
<li>
<p>Trong mục <strong>Permissions</strong>, chọn <strong>Use an existing role (Sử dụng vai trò hiện có)</strong>.</p>
<ul>
<li>Trong danh sách vai trò, chọn <code>DynamoDBBackupRole</code> (tạo ở mục 2.3). Vai trò này bao gồm các chính sách <code>AWSLambdaBasicExecutionRole</code>, <code>AmazonDynamoDBReadOnlyAccess</code>, <code>AmazonS3FullAccess</code>, <code>AmazonSESFullAccess</code>, và <code>CloudFrontFullAccess</code>.</li>
<li><strong>Lưu ý</strong>: <code>CloudFrontFullAccess</code> không được sử dụng trong mã hiện tại, nhưng được giữ lại theo yêu cầu trước đó.</li>
</ul>
</li>
<li>
<p>Giữ các thiết lập khác ở giá trị mặc định và nhấn <strong>Create function</strong> để tạo hàm.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-05.png" alt="Chọn vai trò DynamoDBBackupRole và nhấn Create function">
<em>Hình 5: Chọn vai trò DynamoDBBackupRole và nhấn Create function.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Kiểm Tra Trạng Thái Tạo Hàm</strong></p>
<ul>
<li>Sau khi nhấn <strong>Create function</strong>, bạn sẽ được chuyển đến trang chi tiết của hàm <code>BackupDynamoDBAndSendEmail</code>.</li>
<li>Giao diện sẽ hiển thị thông báo tương tự: <em>&ldquo;Successfully created the function BackupDynamoDBAndSendEmail. You can now change its code and configuration. To invoke your function with a test event, choose Test.&rdquo;</em></li>
<li>Nếu không thấy thông báo hoặc gặp lỗi, kiểm tra lại vai trò <code>DynamoDBBackupRole</code> có tồn tại và tài khoản AWS của bạn có quyền <code>lambda:CreateFunction</code> hay không.</li>
</ul>
</li>
<li>
<p><strong>Cấu Hình Mã Nguồn</strong></p>
<ul>
<li>Trong giao diện chi tiết của hàm <code>BackupDynamoDBAndSendEmail</code>, tại tab <strong>Code</strong>, cuộn xuống phần <strong>Code source</strong>.</li>
<li>Trong tệp <code>lambda_function.py</code>, xóa mã mặc định và dán mã sau:</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> boto3
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> botocore.exceptions <span style="color:#f92672">import</span> ClientError
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dynamodb <span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>resource(<span style="color:#e6db74">&#39;dynamodb&#39;</span>)
</span></span><span style="display:flex;"><span>ses <span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#39;ses&#39;</span>)
</span></span><span style="display:flex;"><span>s3_client <span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#39;s3&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Truy cập bảng DynamoDB</span>
</span></span><span style="display:flex;"><span>    table <span style="color:#f92672">=</span> dynamodb<span style="color:#f92672">.</span>Table(<span style="color:#e6db74">&#39;studentData&#39;</span>)
</span></span><span style="display:flex;"><span>    response <span style="color:#f92672">=</span> table<span style="color:#f92672">.</span>scan()
</span></span><span style="display:flex;"><span>    items <span style="color:#f92672">=</span> response[<span style="color:#e6db74">&#39;Items&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Lưu dữ liệu vào file tạm trong Lambda</span>
</span></span><span style="display:flex;"><span>    backup_file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/tmp/backup.json&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(backup_file, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>        json<span style="color:#f92672">.</span>dump(items, f)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Tải file lên S3</span>
</span></span><span style="display:flex;"><span>    s3_bucket <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;student-backup-20250706&#39;</span>  <span style="color:#75715e"># Thay bằng tên bucket thực tế</span>
</span></span><span style="display:flex;"><span>    s3_key <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;backups/backup-</span><span style="color:#e6db74">{</span>datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#34;%Y%m</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">-%H%M%S&#34;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">.json&#39;</span>
</span></span><span style="display:flex;"><span>    s3_client<span style="color:#f92672">.</span>upload_file(backup_file, s3_bucket, s3_key)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Tạo pre-signed URL (hết hạn sau 1 giờ)</span>
</span></span><span style="display:flex;"><span>    presigned_url <span style="color:#f92672">=</span> s3_client<span style="color:#f92672">.</span>generate_presigned_url(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;get_object&#39;</span>,
</span></span><span style="display:flex;"><span>        Params<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;Bucket&#39;</span>: s3_bucket, <span style="color:#e6db74">&#39;Key&#39;</span>: s3_key},
</span></span><span style="display:flex;"><span>        ExpiresIn<span style="color:#f92672">=</span><span style="color:#ae81ff">3600</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Tạo email HTML đẹp</span>
</span></span><span style="display:flex;"><span>    sender <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;baothangvip@gmail.com&#39;</span>
</span></span><span style="display:flex;"><span>    recipient <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;nguyentribaothang@gmail.com&#39;</span>
</span></span><span style="display:flex;"><span>    subject <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Thông Báo Sao Lưu Dữ Liệu Sinh Viên&#39;</span>
</span></span><span style="display:flex;"><span>    expiry_time <span style="color:#f92672">=</span> (datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now() <span style="color:#f92672">+</span> datetime<span style="color:#f92672">.</span>timedelta(hours<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    html_body <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;!DOCTYPE html&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;html lang=&#34;vi&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;head&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;meta charset=&#34;UTF-8&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;style&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            body </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> font-family: Arial, sans-serif; color: #333; line-height: 1.6; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .container </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f9f9f9; border-radius: 8px; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .header </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> background-color: #4CAF50; color: white; padding: 10px; text-align: center; border-radius: 8px 8px 0 0; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .content </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> padding: 20px; background-color: white; border-radius: 0 0 8px 8px; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .button </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> display: inline-block; padding: 10px 20px; background-color: #4CAF50; color: white !important; text-decoration: none; border-radius: 5px; margin-top: 20px; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .footer </span><span style="color:#ae81ff">{{</span><span style="color:#e6db74"> font-size: 12px; color: #777; text-align: center; margin-top: 20px; </span><span style="color:#ae81ff">}}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/style&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;/head&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;body&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;container&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;header&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;h2&gt;Sao Lưu Dữ Liệu Sinh Viên&lt;/h2&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;content&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;p&gt;Kính gửi Quý khách,&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;p&gt;Dữ liệu sinh viên đã được sao lưu thành công và lưu trữ trên AWS S3.&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;p&gt;&lt;strong&gt;Tải file sao lưu tại đây:&lt;/strong&gt;&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;a href=&#34;</span><span style="color:#e6db74">{</span>presigned_url<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; class=&#34;button&#34;&gt;Tải File Sao Lưu&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;p&gt;&lt;strong&gt;Lưu ý:&lt;/strong&gt; Liên kết này sẽ hết hạn vào </span><span style="color:#e6db74">{</span>expiry_time<span style="color:#e6db74">}</span><span style="color:#e6db74">.&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;div class=&#34;footer&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;p&gt;Đây là email tự động. Vui lòng không trả lời trực tiếp email này.&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;/body&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;/html&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        response <span style="color:#f92672">=</span> ses<span style="color:#f92672">.</span>send_email(
</span></span><span style="display:flex;"><span>            Source<span style="color:#f92672">=</span>sender,
</span></span><span style="display:flex;"><span>            Destination<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;ToAddresses&#39;</span>: [recipient]},
</span></span><span style="display:flex;"><span>            Message<span style="color:#f92672">=</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;Subject&#39;</span>: {<span style="color:#e6db74">&#39;Data&#39;</span>: subject},
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;Body&#39;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;Html&#39;</span>: {<span style="color:#e6db74">&#39;Data&#39;</span>: html_body},
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;Text&#39;</span>: {<span style="color:#e6db74">&#39;Data&#39;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;File sao lưu: </span><span style="color:#e6db74">{</span>presigned_url<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Hết hạn: </span><span style="color:#e6db74">{</span>expiry_time<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>}
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Email sent! Message ID: </span><span style="color:#e6db74">{</span>response[<span style="color:#e6db74">&#39;MessageId&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> ClientError <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Lỗi gửi email: </span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;statusCode&#39;</span>: <span style="color:#ae81ff">500</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;body&#39;</span>: json<span style="color:#f92672">.</span>dumps({<span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Sao lưu thành công nhưng gửi email thất bại: </span><span style="color:#e6db74">{</span>str(e)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>})
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;statusCode&#39;</span>: <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;body&#39;</span>: json<span style="color:#f92672">.</span>dumps({<span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Sao lưu và gửi email thành công!&#39;</span>})
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ul>
<li>
<p><strong>Giải thích mã cải tiến</strong>:</p>
<ul>
<li><strong>Logging</strong>: Thêm <code>logging</code> để ghi log chi tiết vào CloudWatch (mức INFO và ERROR), thay thế <code>print</code> để dễ dàng giám sát.</li>
<li><strong>Xử lý phân trang</strong>: Thêm vòng lặp <code>while</code> để xử lý phân trang cho thao tác <code>Scan</code>, đảm bảo lấy hết dữ liệu từ bảng lớn.</li>
<li><strong>CORS</strong>: Thêm header <code>Access-Control-Allow-Origin: '*'</code> trong tất cả phản hồi để tích hợp với API Gateway.</li>
<li><strong>Xử lý lỗi</strong>: Thêm <code>try-except</code> cho các bước <code>Scan</code>, lưu file, tải lên S3, và tạo pre-signed URL, trả về lỗi chi tiết với mã trạng thái 500.</li>
<li><strong>Vùng AWS</strong>: Chỉ định <code>region_name='us-east-1'</code> cho DynamoDB, S3, và SES để đảm bảo đồng bộ.</li>
<li><strong>Email HTML</strong>: Giữ nguyên nội dung HTML đẹp với CSS inline, nhưng thêm <code>logging</code> cho trạng thái gửi email.</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra và thay đổi</strong>:</p>
<ul>
<li><strong>Vùng AWS</strong>: Thay <code>region_name='us-east-1'</code> trong các dòng khởi tạo <code>dynamodb</code>, <code>ses</code>, và <code>s3_client</code> nếu bạn sử dụng vùng khác (ví dụ: <code>us-west-2</code>).</li>
<li><strong>Email</strong>: Thay <code>baothangvip@gmail.com</code> (nguồn) và <code>nguyentribaothang@gmail.com</code> (người nhận) bằng email đã xác minh trong SES (mục 2.5). Nếu SES ở chế độ sandbox, cả hai email phải được xác minh.</li>
<li><strong>Bucket S3</strong>: Thay <code>student-backup-20250706</code> bằng tên bucket thực tế của bạn (sẽ tạo ở mục sau).</li>
</ul>
</li>
<li>
<p>Nhấn <strong>Deploy</strong> để lưu và triển khai mã.</p>
<p><img src="/images/4-lambda-functions/3-backupdynamodbandsendemail/lambda-functions-backupdynamodbandsendemail-06.png" alt="Giao diện chỉnh sửa mã nguồn BackupDynamoDBAndSendEmail.">
<em>Hình 6: Giao diện chỉnh sửa mã nguồn BackupDynamoDBAndSendEmail.</em></p>
</li>
<li>
<p>Sau khi triển khai, giao diện sẽ hiển thị thông báo: <em>&ldquo;Successfully updated the function BackupDynamoDBAndSendEmail.&rdquo;</em></p>
</li>
</ul>
<ol start="7">
<li>
<p><strong>Cấu Hình Timeout và Bộ Nhớ</strong></p>
<ul>
<li>Trong tab <strong>Configuration</strong> &gt; <strong>General configuration</strong>, nhấn <strong>Edit</strong>.</li>
<li>Đặt <strong>Timeout</strong>: 60 giây (đủ cho thao tác <code>Scan</code>, lưu file, tải lên S3, và gửi email).</li>
<li>Đặt <strong>Memory</strong>: 256 MB (để xử lý bảng lớn và lưu trữ tạm trong <code>/tmp</code>).</li>
<li>Nhấn <strong>Save</strong> để lưu thay đổi.</li>
<li><strong>Lý do</strong>: Thao tác <code>Scan</code> trên bảng lớn và lưu trữ tệp trong <code>/tmp</code> có thể yêu cầu nhiều tài nguyên hơn so với <code>getStudentData</code> hoặc <code>insertStudentData</code>.</li>
</ul>
</li>
<li>
<p><strong>Kiểm Tra Hàm</strong></p>
<ul>
<li>Trong tab <strong>Test</strong>, nhấn <strong>Create new test event</strong>.</li>
<li>Đặt tên sự kiện (ví dụ: <code>testBackupDynamoDB</code>).</li>
<li>Sử dụng JSON mẫu (có thể để trống vì hàm không yêu cầu input cụ thể):
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{}
</span></span></code></pre></div></li>
<li>Nhấn <strong>Create</strong> để lưu sự kiện kiểm tra, sau đó nhấn <strong>Test</strong> để chạy hàm.</li>
<li>Kiểm tra kết quả:
<ul>
<li>Nếu thành công, hàm trả về:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;statusCode&#34;</span>: <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;body&#34;</span>: <span style="color:#e6db74">&#34;{\&#34;message\&#34;: \&#34;Sao lưu và gửi email thành công!\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;headers&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;Content-Type&#34;</span>: <span style="color:#e6db74">&#34;application/json&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;Access-Control-Allow-Origin&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Kiểm tra bucket S3 <code>student-backup-20250706</code> trong S3 Console (vào S3 &gt; Buckets &gt; student-backup-20250706 &gt; Objects) để xác minh tệp backup (ví dụ: <code>backups/backup-20250707-0409.json</code>).</li>
<li>Kiểm tra hộp thư của email nhận (<code>nguyentribaothang@gmail.com</code>, bao gồm Spam/Junk) để xem email thông báo với nội dung HTML như:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vi&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">body</span> { <span style="color:#66d9ef">font-family</span>: Arial, <span style="color:#66d9ef">sans-serif</span>; <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#333</span>; <span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">1.6</span>; }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">container</span> { <span style="color:#66d9ef">max-width</span>: <span style="color:#ae81ff">600</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">auto</span>; <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#f9f9f9</span>; <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span>; }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">header</span> { <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#4CAF50</span>; <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">white</span>; <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>; <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>; }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">content</span> { <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">white</span>; <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span>; }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">button</span> { <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>; <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#4CAF50</span>; <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">white</span> <span style="color:#75715e">!important</span>; <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">none</span>; <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>; }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">footer</span> { <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#777</span>; <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>; <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>; }
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">style</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;header&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">h2</span>&gt;Sao Lưu Dữ Liệu Sinh Viên&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;content&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;Kính gửi Quý khách,&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;Dữ liệu sinh viên đã được sao lưu thành công và lưu trữ trên AWS S3.&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;&lt;<span style="color:#f92672">strong</span>&gt;Tải file sao lưu tại đây:&lt;/<span style="color:#f92672">strong</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;[pre-signed-url]&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button&#34;</span>&gt;Tải File Sao Lưu&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;&lt;<span style="color:#f92672">strong</span>&gt;Lưu ý:&lt;/<span style="color:#f92672">strong</span>&gt; Liên kết này sẽ hết hạn vào [expiry_time].&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;Đây là email tự động. Vui lòng không trả lời trực tiếp email này.&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div></li>
<li>Nhấp vào link trong email để xác minh tệp backup có thể tải được.</li>
<li>Kiểm tra log trong CloudWatch (vào Monitor &gt; Logs &gt; chọn log group <code>/aws/lambda/BackupDynamoDBAndSendEmail</code>) để xem thông tin chi tiết (số bản ghi, Message ID của email).</li>
<li>Nếu gặp lỗi, kiểm tra các lỗi phổ biến:
<ul>
<li><em>&ldquo;AccessDenied&rdquo; (DynamoDB)</em>: Kiểm tra vai trò <code>DynamoDBBackupRole</code> có chính sách <code>AmazonDynamoDBReadOnlyAccess</code>.</li>
<li><em>&ldquo;AccessDenied&rdquo; (S3)</em>: Kiểm tra quyền <code>PutObject</code> trong <code>AmazonS3FullAccess</code> và bucket <code>student-backup-20250706</code> tồn tại.</li>
<li><em>&ldquo;Email address is not verified&rdquo; (SES)</em>: Đảm bảo <code>baothangvip@gmail.com</code> và <code>nguyentribaothang@gmail.com</code> đã được xác minh trong SES.</li>
<li><em>&ldquo;NoSuchBucket&rdquo;</em>: Đảm bảo bucket <code>student-backup-20250706</code> đã được tạo (mục sau).</li>
<li><em>&ldquo;ResourceNotFoundException&rdquo;</em>: Đảm bảo bảng <code>studentData</code> tồn tại (mục 2.4).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="lưu-ý-quan-trọng">Lưu Ý Quan Trọng</h2>
<table>
  <thead>
      <tr>
          <th><strong>Yếu Tố</strong></th>
          <th><strong>Chi Tiết</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>IAM Role</strong></td>
          <td>Vai trò <code>DynamoDBBackupRole</code> (tạo ở mục 2.3) phù hợp với chức năng của hàm. Tuy nhiên, <code>CloudFrontFullAccess</code> không được sử dụng. Để tuân thủ least privilege, cân nhắc loại bỏ hoặc thay bằng chính sách tùy chỉnh nếu cần mở rộng. <!-- raw HTML omitted --> - Vào IAM &gt; Policies &gt; Create Policy. <!-- raw HTML omitted --> - Chọn JSON, dán chính sách trên (thay <code>student-backup-20250706</code> bằng tên bucket thực tế). <!-- raw HTML omitted --> - Đặt tên (ví dụ: <code>S3BackupStudentData</code>) và gắn vào <code>DynamoDBBackupRole</code>.</td>
      </tr>
      <tr>
          <td><strong>SES Sandbox</strong></td>
          <td>Đảm bảo email nguồn (<code>baothangvip@gmail.com</code>) và người nhận (<code>nguyentribaothang@gmail.com</code>) đã được xác minh trong SES (mục 2.5). Nếu SES ở chế độ sandbox, cả hai email phải được xác minh. Thoát sandbox để gửi email đến địa chỉ bất kỳ: <!-- raw HTML omitted --> - Vào SES &gt; Account dashboard &gt; Request production access. <!-- raw HTML omitted --> - Điền biểu mẫu như hướng dẫn ở mục 2.5. <!-- raw HTML omitted --> Nếu chưa thoát sandbox, thử nghiệm bằng cách sử dụng cùng một email đã xác minh cho cả nguồn và người nhận.</td>
      </tr>
      <tr>
          <td><strong>S3 Bucket</strong></td>
          <td>Đảm bảo bucket <code>student-backup-20250706</code> đã được tạo (sẽ cấu hình ở mục sau). Nếu chưa, hàm sẽ báo lỗi <code>NoSuchBucket</code>. Đảm bảo bucket có thư mục <code>backups/</code> hoặc mã sẽ tự tạo (nếu quyền <code>PutObject</code> được cấp).</td>
      </tr>
      <tr>
          <td><strong>CORS</strong></td>
          <td>Header <code>Access-Control-Allow-Origin: '*'</code> được thêm để hỗ trợ tích hợp với API Gateway (nếu hàm được gọi từ giao diện web). Đảm bảo cấu hình CORS trong API Gateway (sẽ đề cập ở các bước sau).</td>
      </tr>
      <tr>
          <td><strong>Vùng AWS</strong></td>
          <td>Đảm bảo vùng trong mã (<code>us-east-1</code>) khớp với vùng của bảng <code>studentData</code>, bucket S3, và SES. Nếu sử dụng vùng khác (ví dụ: <code>us-west-2</code>), cập nhật <code>region_name</code> trong các dòng khởi tạo <code>dynamodb</code>, <code>ses</code>, và <code>s3_client</code>.</td>
      </tr>
      <tr>
          <td><strong>Xử lý lỗi</strong></td>
          <td>Nếu hàm báo lỗi, kiểm tra log trong CloudWatch (vào Monitor &gt; Logs &gt; chọn log group <code>/aws/lambda/BackupDynamoDBAndSendEmail</code>). Các lỗi phổ biến: <!-- raw HTML omitted --> - <em>&ldquo;AccessDenied&rdquo; (DynamoDB)</em>: Thiếu quyền <code>Scan</code>. <!-- raw HTML omitted --> - <em>&ldquo;AccessDenied&rdquo; (S3)</em>: Thiếu quyền <code>PutObject</code> hoặc bucket không tồn tại. <!-- raw HTML omitted --> - <em>&ldquo;Email address is not verified&rdquo; (SES)</em>: Email chưa được xác minh. <!-- raw HTML omitted --> - <em>&ldquo;ResourceNotFoundException&rdquo;</em>: Bảng <code>studentData</code> chưa được tạo. <!-- raw HTML omitted --> Sử dụng CloudTrail hoặc IAM Access Advisor để xác định vấn đề về quyền.</td>
      </tr>
      <tr>
          <td><strong>Tối ưu hóa</strong></td>
          <td>- Thêm xử lý phân trang cho <code>Scan</code> (đã thêm trong mã cải tiến). <!-- raw HTML omitted --> - Sử dụng <code>logging</code> thay cho <code>print</code> (đã thêm). <!-- raw HTML omitted --> - Tăng bộ nhớ (256 MB) và timeout (60 giây) để xử lý bảng lớn. <!-- raw HTML omitted --> - Để tăng cường bảo mật, xác minh domain trong SES (xem AWS SES Documentation - DKIM) và cập nhật email nguồn (ví dụ: <code>no-reply@system.edu.vn</code>). <!-- raw HTML omitted --> - Nếu bảng <code>studentData</code> lớn, cân nhắc sử dụng DynamoDB Streams để sao lưu tăng dần thay vì <code>Scan</code> toàn bộ bảng.</td>
      </tr>
      <tr>
          <td><strong>Kiểm tra sớm</strong></td>
          <td>Sau khi tạo và triển khai hàm, chạy kiểm tra để xác minh tệp backup trong S3, email thông báo, và log trong CloudWatch trước khi tích hợp với CloudWatch Events/EventBridge (cho sao lưu định kỳ).</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p><strong>Mẹo thực tiễn</strong>: Thêm dữ liệu mẫu vào bảng <code>studentData</code>, kiểm tra bucket S3 và hộp thư nhận (bao gồm Spam/Junk) để xác minh kết quả.</p></blockquote>
<hr>
<h2 id="kết-luận">Kết Luận</h2>
<p>Hàm Lambda <code>BackupDynamoDBAndSendEmail</code> đã được tạo để sao lưu dữ liệu sinh viên từ bảng <code>studentData</code> vào S3 và gửi email thông báo với liên kết tải file. Hàm sẵn sàng tích hợp với CloudWatch Events/EventBridge cho sao lưu định kỳ.</p>
<blockquote>
<p><strong>Bước tiếp theo</strong>: Chuyển đến <a href="/vi/4-creating-a-restful-api/">Cấu hình CloudWatch Events/EventBridge</a> để tiếp tục!</p></blockquote>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/3-creating-lambda-functions/3.2-create-the-insertstudentdata-function/" title="Cấu hình Lambda Function insertStudentData"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/4-creating-a-restful-api/" title="Cấu hình RESTful API Bảo Mật bằng API Key" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1751876625"></script>
    <script src="/js/perfect-scrollbar.min.js?1751876625"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1751876625"></script>
    <script src="/js/jquery.sticky.js?1751876625"></script>
    <script src="/js/featherlight.min.js?1751876625"></script>
    <script src="/js/highlight.pack.js?1751876625"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1751876625"></script>
    <script src="/js/learn.js?1751876625"></script>
    <script src="/js/hugo-learn.js?1751876625"></script>

    <link href="/mermaid/mermaid.css?1751876625" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1751876625"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
